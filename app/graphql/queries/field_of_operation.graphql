fragment defaultFields on Edition {
  analytics_identifier
  api_path
  api_url
  base_path
  content_id
  document_type
  locale
  public_updated_at
  schema_name
  title
  web_url
}

query field_of_operation($base_path: String!, $with_drafts: Boolean) {
  edition(base_path: $base_path, with_drafts: $with_drafts) {
    ... on Edition {
      analytics_identifier
      base_path
      content_id
      description
      details {
        change_history
      }
      document_type
      first_published_at
      links {
        available_translations {
          ...defaultFields
        }
        fatality_notices {
          ...defaultFields
          details {
            casualties
            roll_call_introduction
          }
        }
        primary_publishing_organisation {
          ...defaultFields
          details {
            acronym
            brand
            default_news_image
            logo
            organisation_govuk_status
          }
        }
      }
      locale
      phase
      public_updated_at
      publishing_app
      publishing_request_id
      publishing_scheduled_at
      rendering_app
      scheduled_publishing_delay_seconds
      schema_name
      title
      updated_at
      withdrawn_notice {
        explanation
        withdrawn_at
      }
    }
  }
}
